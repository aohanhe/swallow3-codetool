(function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],f=0,p=[];f<s.length;f++)i=s[f],r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0fa6":function(t,e,n){},"20a1":function(t,e,n){"use strict";var o=n("0fa6"),r=n.n(o);r.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("home")],1)},a=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",[o("Header",{staticClass:"title"},[o("img",{attrs:{src:n("ebb2")}}),o("span",[t._v("Swallow3代码生成(请使用chrome)")])]),o("Content",[o("div",{staticStyle:{background:"#eee",padding:"20px"}},[o("Row",[o("Col",{attrs:{span:11}},[o("Card",{attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("实体描述文件")]),o("p",[o("input",{attrs:{type:"file",placeholder:"选择要上传的json文件"},on:{change:t.onFileChange}})])])],1),o("Col",{attrs:{span:11,offset:1}},[o("Card",{attrs:{bordered:!1}},[o("p",{staticClass:"actionpane",attrs:{slot:"title"},slot:"title"},[t._v("下载代码文件")]),t._v("\n\n            生成包名称\n            "),o("Input",{staticClass:"actionbutton",staticStyle:{width:"300px"},model:{value:t.packagePath,callback:function(e){t.packagePath=e},expression:"packagePath"}}),o("Button",{staticClass:"actionbutton",attrs:{type:"info"},on:{click:t.downloadControl}},[t._v("下载Control类文件")]),o("Button",{staticClass:"actionbutton",attrs:{type:"info"},on:{click:t.downloadtsapi}},[t._v("下载前端api脚本")]),o("Button",{staticClass:"actionbutton",attrs:{type:"info"},on:{click:t.downloadtablecols}},[t._v("下载前端表格列定义脚本")])],1)],1)],1),o("Row",[t.iserror?o("Alert",{attrs:{type:"error"}},[t._v(t._s(t.errMsg))]):t._e()],1)],1)])],1)},s=[],c=(n("7f7f"),n("d225")),l=n("b0b4"),u=n("308d"),f=n("6bb5"),p=n("4e2b"),d=n("9ab4"),h=n("60a3"),b=(n("f559"),n("bc3a")),v=n.n(b);function g(t,e){return new Promise(function(n,o){var r=t,a=t.url;a=a.startsWith("/")?a:"/"+a,r.url=a,r.responseType="blob",console.log("向服务器发送数据请求:%o",r),v.a.request(r).then(function(t){console.log("收到服务请求的数据:%o",t),n(new Blob([t.data],{type:e}))}).catch(function(t){console.error("收到服务回复的数据请求错误:%o",t.message),o(t)})})}function m(t,e){if(window.navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=e,o.click()}}var y=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(f["a"])(e).apply(this,arguments)),t.jsonData="",t.packagePath="",t.iserror=!1,t.errMsg="",t}return Object(p["a"])(e,t),Object(l["a"])(e,[{key:"onFileChange",value:function(t){this.file=t.target.files[0],this.readJsonFile()}},{key:"readJsonFile",value:function(){var t=this;return new Promise(function(e,n){var o=new FileReader;o.onload=function(t){var n=t.target.result;if(n){var o=JSON.parse(n);e(o)}},o.onerror=function(t){n(t)},o.readAsText(t.file,"UTF-8")})}},{key:"downloadControl",value:function(){var t=this;this.iserror=!1,this.file?(this.packagePath||this.$Message.error("请先填写生成control类的包名"),this.readJsonFile().then(function(e){console.log("%o",e),g({url:"/api/control",method:"post",data:{entityinfo:e,packagePath:t.packagePath}},"txt/plain").then(function(t){m(t,e.name+"Control.java")}).catch(function(e){t.iserror=!0,t.errMsg="生成错误:"+e})}).catch(function(){t.iserror=!0,t.errMsg="生成错误:读取文件错误"})):this.$Message.error("请先选择实体的描述")}},{key:"downloadtsapi",value:function(){var t=this;this.iserror=!1,this.file?this.readJsonFile().then(function(e){console.log("%o",e),g({url:"/api/tsapi",method:"post",data:e},"txt/plain").then(function(t){m(t,e.name+".ts")}).catch(function(e){t.iserror=!0,t.errMsg="生成错误:"+e})}).catch(function(){t.iserror=!0,t.errMsg="生成错误:读取文件错误"}):this.$Message.error("请先选择实体的描述")}},{key:"downloadtablecols",value:function(){var t=this;this.iserror=!1,this.file?this.readJsonFile().then(function(e){console.log("%o",e),g({url:"/api/tstablecols",method:"post",data:e},"txt/plain").then(function(t){m(t,e.name+"TableColDefine.ts")}).catch(function(e){t.iserror=!0,t.errMsg="生成错误:"+e})}).catch(function(){t.iserror=!0,t.errMsg="生成错误:读取文件错误"}):this.$Message.error("请先选择实体的描述")}}]),e}(h["b"]);y=d["a"]([Object(h["a"])({components:{}})],y);var w=y,k=w,j=(n("20a1"),n("2877")),_=Object(j["a"])(k,i,s,!1,null,"d8abd0b6",null),O=_.exports,C={name:"app",components:{Home:O}},x=C,M=Object(j["a"])(x,r,a,!1,null,null,null),P=M.exports,S=n("8c4f");o["default"].use(S["a"]);var F=new S["a"]({routes:[{path:"/",name:"home",component:O}]}),J=n("2f62");o["default"].use(J["a"]);var T=new J["a"].Store({state:{},mutations:{},actions:{}}),$=n("e069"),B=n.n($);n("dcad");o["default"].use(B.a),o["default"].config.productionTip=!1,new o["default"]({router:F,store:T,render:function(t){return t(P)}}).$mount("#app")},ebb2:function(t,e,n){t.exports=n.p+"img/fly.3227281c.png"}});
//# sourceMappingURL=app.6e2e2b07.js.map